# 🚀 Cogent: エージェント型 AI コーディングアシスタント

> 「会話するアヒルと一緒のラバーダックデバッグの方がずっと良い！」


Cogent は、エージェント機能を備えた GitHub Copilot 用の VSCode チャット拡張です。コーディング環境を自律的に動作する開発アシスタントに変えます。コードを理解するだけでなく、ユーザーの管理下で独立して操作を実行できる賢い（ちょっとオタクな）AI エージェントを想像してください。まるでコーヒー不要の優秀なペアプログラマーと一緒に作業しているような感覚を提供します。

<div align="center">
  
[![Visual Studio Code Marketplace](https://img.shields.io/visual-studio-marketplace/v/kturung.cogent?color=blue&label=VsCode%20Marketplace&logo=visual-studio-code)](https://marketplace.visualstudio.com/items?itemName=kturung.cogent)

</div>

## 🎯 前提条件

この素敵な旅を始める前に、以下を確認してください：

- 💳 有効な GitHub Copilot サブスクリプション
- 📦 VS Code 1.95.0 以上
- 🤖 GitHub Copilot Chat 拡張

## ✨ 機能

- 🤖 自律エージェント — 最小限の監督で自律的に動作します
- 📝 スマートなファイル操作 — 作成・読み取り・更新・差分適用を行い、大きなファイルも AI による精度で扱います
- 🎮 コマンド実行 — チャットを離れずにターミナルコマンドを実行できます
- 🧠 コンテキスト認識 — プロジェクト構成全体を理解します
- 🤝 ペアプログラミング — ペアプログラミングのように、相手はコーヒーを必要としません
- 🔒 安全な操作 — 変更やコマンド実行の前に承認を求めます
- 📚 ワークスペース認識 — 必要に応じてワークスペース全体をロードできます（設定で変更可）
- 📜 カスタムルール — プロジェクト固有のルールを AI に教えられます

## 🚀 インストール

### 開発用

1. リポジトリをクローン
2. 依存関係をインストール:
   ```bash
   npm install
   ```
3. 拡張機能をビルド:
   ```bash
   npm run compile
   ```
4. VS Code で F5 を押してデバッグを開始
   > 新しい VS Code ウィンドウが開き、拡張機能が読み込まれます

### 配布用

拡張機能を配布パッケージにしたいですか？簡単です：

1. vsce をグローバルにインストール:
   ```bash
   npm install -g @vscode/vsce
   ```
2. 拡張をパッケージ化:
   ```bash
   vsce package
   ```
   `.vsix` ファイルが生成され、配布可能になります。

## ⚙️ 設定

### ワークスペース認識

Cogent はワークスペースに対して、より「密に覗き込む」か「控えめ」にするかを選べます：

![use_full_workspace](assets/use-full-workspace.png)

- `true` のとき：Cogent はワークスペース全体を事前に読み込みます（.gitignore を尊重します）
- `false` のとき：必要に応じてファイルをオンデマンドで読み込みます（デフォルト）

> 💡 ヒント: 大きなワークスペースでは無効にしておくと、読み込み時間を短縮できます。

### カスタムルール

プロジェクトのルールを Cogent に守らせたい場合は、ワークスペースルートに `.cogentrules` ファイルを作成してください：

```plaintext
# 例 .cogentrules
1. 常に TypeScript の strict モードを使用する
2. Angular スタイルガイドに従う
3. console.log() を使わず、適切なロギングサービスを使う
```

AI のルールメモのように機能します。コードの品質維持に役立ちます。

### 自動承認モード

ちょっと冒険したいですか？🎢 特定の操作について自動承認を有効にできます：

![auto_approve_tools](assets/auto-approve-tools.png)

> ⚠️ 注意: 自動承認を有効にすることは、AI に自由度と権限を与えることと同義です。便利ですが Pull Request 等を定期的にチェックすることをおすすめします。

## 🎮 使い方

1. VS Code で GitHub Copilot Chat を開く
2. `@Cogent` に続けてリクエストを入力
3. エージェントが動き出すのを見守るだけ！

Cogent は自律動作しますが、以下の操作では常に承認を求めます：
- ワークスペース内のファイルの作成や変更
- ターミナルコマンドの実行
- 大きなプロジェクト変更

これにより、ユーザーのコントロールを保ちながら自動化を活用できます。

## 💬 例：会話

```
You: "@Cogent この関数のリファクタを手伝ってくれる？"
Cogent: "コードを解析して改善案を提案します。まずは計画を提示します..."
```

```
You: "@Cogent ユーザー認証用の React コンポーネントを作って"
Cogent: "セキュアな認証コンポーネントを作成します。まず構造を提案します..."
```

## 🎭 背景

Cogent は GitHub Copilot と Claude-3.5-Sonnet（モデル名は例示）の力で動作します。まるで小さな開発者が VS Code 内にいるような体験を提供します。安心してください、仮想クッキーは用意しています！ 🍪

## 🤝 貢献

バグを見つけましたか？機能を追加したいですか？大歓迎です！手順は以下の通り：

1. フォークする
2. 機能ブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add some amazingness'`)
4. ブランチにプッシュ (`git push origin feature/amazing-feature`)
5. PR を作成してちょっとした勝利のダンスを踊る 💃

## 🤖 エージェントガイドライン

自動化エージェントや Copilot のようなツールは、`AGENT_GUIDELINES.md` に記載されたリポジトリの行動ルールに従ってください。簡潔に言うと：編集前に `list_code_usages` を実行して定義や参照を確認し、編集後は `get_errors` を実行してエラーが残らないようにしてください。

## 🐛 バグ報告

不具合がある場合は：

1. Issue を開く
2. どのような問題が発生したか詳細に説明する
3. 再現手順を示す
4. 修正を待つ（そして祈る）

## 📜 ライセンス

MIT - 共有は思いやり！プロジェクトでの利用は自由ですが、もし使ったらバーチャルなハイタッチをお願いします！ 🖐️

---

Made with ❤️ and lots of ☕ by awesome developers like you!

*覚えておいてください：一番良いコードは「動くコード」です…でも二番目に良いのは何も書かないことです！* 😉